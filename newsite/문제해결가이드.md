# 🚨 CORS 오류 해결 가이드

## 현재 상황 확인

CORS 오류가 계속 발생한다면, 다음을 순서대로 확인하세요:

### ✅ 체크리스트

#### 1. 프록시 서버가 실행 중인가요?

- [ ] 터미널/명령 프롬프트 창이 열려 있나요?
- [ ] 터미널에 "프록시 서버가 http://localhost:8000 에서 실행 중입니다." 메시지가 보이나요?
- [ ] 서버를 시작한 후 다른 작업을 하지 않았나요? (서버는 계속 실행되어야 합니다)

**확인 방법:**
- 새 브라우저 탭에서 `http://localhost:8000/health` 접속
- "프록시 서버가 정상 작동 중입니다" 메시지가 나오면 서버 정상

#### 2. 올바른 주소로 접속했나요?

- [ ] 브라우저 주소창에 `http://localhost:8000` 이 보이나요?
- [ ] 주소가 `file://` 로 시작하지 않나요?
- [ ] index.html 파일을 직접 더블클릭하지 않았나요?

**올바른 주소:**
- ✅ `http://localhost:8000`
- ✅ `http://127.0.0.1:8000`

**잘못된 접속:**
- ❌ `file:///C:/Users/.../index.html`
- ❌ 파일 탐색기에서 index.html 더블클릭

#### 3. 서버를 올바르게 시작했나요?

**올바른 시작 방법:**
1. `start_server.bat` 파일을 더블클릭
2. 또는 터미널에서 `python proxy_server.py` 실행

**확인:**
- 터미널 창이 열려야 함
- 서버가 실행 중이라는 메시지가 보여야 함
- 터미널 창을 닫으면 서버가 종료됨!

---

## 🔧 단계별 해결 방법

### 방법 1: 서버 재시작 (가장 간단)

1. **기존 서버 종료**
   - 서버가 실행 중인 터미널 창 찾기
   - Ctrl+C 키 누르기
   - 창이 닫힐 때까지 기다리기

2. **서버 다시 시작**
   - `start_server.bat` 파일 더블클릭
   - 또는 터미널에서 `python proxy_server.py` 실행

3. **브라우저 새로고침**
   - F5 키 누르기
   - 또는 주소창에 `http://localhost:8000` 입력

### 방법 2: 포트 확인

포트 8000이 다른 프로그램에서 사용 중일 수 있습니다.

**확인:**
1. 다른 터미널 창을 열고
2. `netstat -ano | findstr :8000` 실행
3. 프로세스 ID가 보이면 다른 프로그램이 사용 중

**해결:**
- 다른 프로그램 종료
- 또는 proxy_server.py 파일의 포트 번호 변경 (8000 → 8001 등)

### 방법 3: 브라우저 캐시 삭제

1. Ctrl+Shift+Delete 키 누르기
2. "캐시된 이미지 및 파일" 선택
3. "데이터 삭제" 클릭
4. 브라우저 새로고침

---

## 🔍 디버깅 방법

### 브라우저 개발자 도구 사용

1. **F12 키 누르기** (개발자 도구 열기)

2. **Console 탭 확인**
   - 빨간색 오류 메시지 확인
   - "프록시 서버 연결 성공" 메시지가 있는지 확인

3. **Network 탭 확인**
   - 캐릭터 검색 버튼 클릭
   - 요청 URL 확인:
     - ✅ `http://localhost:8000/api/maplestory/...` (정상)
     - ❌ `https://open.api.nexon.com/...` (프록시 미사용)

### 프록시 서버 로그 확인

서버가 실행 중인 터미널 창에서:
- 요청이 들어오면 로그가 표시됨
- "프록시 요청: ..." 메시지 확인
- 오류 메시지 확인

---

## 💡 자주 묻는 질문

### Q: 서버를 시작했는데도 오류가 나요

**A:** 다음을 확인하세요:
1. 브라우저가 `http://localhost:8000`으로 접속했나요?
2. 서버 터미널 창이 닫히지 않았나요?
3. 서버 시작 메시지가 정상적으로 표시되었나요?

### Q: "포트가 이미 사용 중" 오류

**A:** 포트 8000이 이미 사용 중입니다:
1. 다른 터미널 창에서 `netstat -ano | findstr :8000` 실행
2. 프로세스 ID 확인
3. 작업 관리자에서 해당 프로세스 종료
4. 또는 다른 포트 사용 (proxy_server.py 수정)

### Q: Python이 설치되어 있지 않아요

**A:** Python 설치 필요:
1. https://www.python.org/downloads/ 방문
2. Python 다운로드 및 설치
3. 설치 시 "Add Python to PATH" 체크
4. 설치 후 컴퓨터 재시작

---

## 🆘 그래도 안 되면

1. **모든 창 닫기**
   - 브라우저 창
   - 터미널 창

2. **처음부터 다시 시작**
   - `start_server.bat` 실행
   - 브라우저에서 `http://localhost:8000` 접속
   - API Key 입력 및 저장
   - 캐릭터 검색 시도

3. **로그 확인**
   - 브라우저 개발자 도구 (F12) → Console 탭
   - 서버 터미널 창의 로그
   - 오류 메시지 복사하여 확인

---

## 📞 추가 도움

문제가 계속되면 다음 정보를 확인하세요:

1. 사용 중인 브라우저 (Chrome, Edge, Firefox 등)
2. Python 버전 (`python --version`)
3. 브라우저 콘솔의 오류 메시지
4. 서버 터미널의 오류 메시지


